<nz-layout style="height:100vh;">
    <nz-sider nzCollapsible [(nzCollapsed)]="isCollapsed" [nzWidth]="width" [nzReverseArrow]="isReverseArrow"
        *ngIf="isMenuVisible">
        <div class="logo"><a style="color:white" [routerLink]="[ '/dashboard']"
                (click)="setDashboardBreadCrumb()">Yu</a></div>
        <ul nz-menu [nzTheme]="'dark'" [nzMode]="'inline'" [nzInlineCollapsed]="isCollapsed">
            <li nz-submenu *ngIf="isCanOperate('rightmanage')" nzTitle="权限管理" nzIcon="idcard">
                <ul>
                    <li nz-menu-item nzMatchRouter *ngIf="isCanOperate('usermanage')" [routerLink]="[ '/right/user' ]"
                        (click)="setBreadCrumb('权限管理','用户管理')"><i nz-icon nzType="user" nzTheme="outline"></i>用户管理</li>
                    <li nz-menu-item nzMatchRouter *ngIf="isCanOperate('rolemanage')" [routerLink]="[ '/right/role' ]"
                        (click)="setBreadCrumb('权限管理','角色管理')"><i nz-icon nzType="audit" nzTheme="outline"></i>角色管理</li>
                    <li nz-menu-item nzMatchRouter *ngIf="isCanOperate('groupmanage')" [routerLink]="[ '/right/group' ]"
                        (click)="setBreadCrumb('权限管理','组织管理')"><i nz-icon nzType="team" nzTheme="outline"></i>组织管理</li>
                    <li nz-menu-item nzMatchRouter [routerLink]="[ '/right/position' ]"
                        (click)="setBreadCrumb('权限管理','岗位管理')"><i nz-icon nzType="team" nzTheme="outline"></i>岗位管理</li>
                    <li nz-menu-item nzMatchRouter *ngIf="isCanOperate('elementmanage')"
                        [routerLink]="[ '/right/menu' ]" (click)="setBreadCrumb('权限管理','页面元素管理')"><i nz-icon
                            nzType="ordered-list" nzTheme="outline"></i>页面元素管理</li>
                    <li nz-menu-item nzMatchRouter *ngIf="isCanOperate('apimanage')" [routerLink]="[ '/right/api' ]"
                        (click)="setBreadCrumb('权限管理','API数据管理')"><i nz-icon nzType="api" nzTheme="outline"></i>API数据管理
                    </li>
                    <li nz-menu-item nzMatchRouter *ngIf="isCanOperate('rulemanage')" [routerLink]="[ '/right/rule' ]"
                        (click)="setBreadCrumb('权限管理','规则管理')"><i nz-icon nzType="filter" nzTheme="outline"></i>规则管理
                    </li>
                    <li nz-menu-item nzMatchRouter *ngIf="isCanOperate('entitymanage')"
                        [routerLink]="[ '/right/entity' ]" (click)="setBreadCrumb('权限管理','实体数据管理')"><i nz-icon
                            nzType="profile" nzTheme="outline"></i>实体数据管理</li>
                </ul>
            </li>
            <li nz-submenu nzTitle="工作流(施工中)" nzIcon="apartment">
                <ul>
                    <li nz-menu-group nzTitle="使用">
                        <ul>
                            <li nz-menu-item nzMatchRouter [routerLink]="[ '/workflow/job' ]">
                                <i nz-icon style="font-size: 14px;">
                                    <svg>
                                        <path
                                            d="M238.848 466.944 238.848 491.52l201.664 0L440.512 466.944 238.848 466.944zM238.848 565.248l260.48 0L499.328 540.672l-260.48 0L238.848 565.248zM238.848 647.168l470.656 0L709.504 622.656 238.848 622.656 238.848 647.168zM884.224 85.312l-153.344 0 0 85.312 109.44 0 0 554.688-130.88 0 0-20.864L238.848 704.448l0 24.64 382.656 0 0 49.152L238.848 778.24l0 24.576 382.656 0 0 135.808L183.616 938.624 183.616 170.688l109.44 0L293.056 85.312 139.84 85.312C115.584 85.312 96 104.384 96 128l0 853.376C96 1004.864 115.584 1024 139.84 1024l744.448 0c24.128 0 43.776-19.136 43.776-42.624L928.064 128C928 104.384 908.352 85.312 884.224 85.312zM665.28 928 665.28 768l164.224 0L665.28 928zM380.608 213.312l262.72 0c24.128 0 43.776-19.072 43.776-42.624L687.104 85.312 599.616 85.312C599.616 38.208 560.384 0 512 0S424.384 38.208 424.384 85.312L336.832 85.312l0 85.312C336.832 194.24 356.48 213.312 380.608 213.312zM512 37.312c27.2 0 49.28 21.44 49.28 48 0 26.496-22.08 48-49.28 48s-49.28-21.504-49.28-48C462.72 58.816 484.8 37.312 512 37.312zM689.728 294.208 689.728 279.936 599.232 279.936l0 14.272L635.52 294.208l0 57.024L591.744 351.232l0 13.312 105.984 0L697.728 351.232l-45.248 0L652.48 294.208 689.728 294.208zM619.52 551.68 619.52 471.68c0.96-2.496 2.368-6.016 4.224-10.624C626.24 455.616 627.904 452.032 628.48 450.56L628.48 449.6C620.608 446.848 614.656 445.184 610.56 444.544 606.208 468.736 598.656 487.616 587.968 501.12c3.52 4.288 6.208 8.128 8.064 11.52 2.816-3.072 5.952-7.168 9.344-12.416L605.376 551.68 619.52 551.68zM660.032 456.512c2.24-3.392 3.136-5.312 2.88-5.952L662.912 449.6c-3.776-1.536-9.6-3.2-17.472-5.056-4.032 18.688-11.264 34.304-21.632 46.848C628.48 493.568 632.384 496.384 635.52 499.712c0.384-0.32 0.832-0.896 1.472-1.856 4.672-7.04 8.256-13.056 10.752-17.92l0 73.088 15.104 0L662.848 531.456l32.96 0L695.808 518.592l-32.96 0L662.848 504.32l29.184 0L692.032 491.456l-29.184 0 0-14.72 36.736 0L699.584 464.32l-43.392 0C657.28 462.144 658.432 459.584 660.032 456.512z"
                                            p-id="1220"></path>
                                    </svg>
                                </i>我的工作</li>
                            <li nz-menu-item nzMatchRouter [routerLink]="[ '/workflow/handle' ]">
                                <i nz-icon style="font-size: 14px;">
                                    <svg>
                                        <path
                                            d="M875.5 928h-727c-28.4 0-51.5-23-51.5-51.5h830c0 28.5-23.1 51.5-51.5 51.5zM926.4 857.5H97.6V709.3c0-25 9.9-47 28.7-63.6 13.7-12.2 32.4-21.7 57-29.2l1-0.3L317 585.5c52.7-16.3 59.8-36.1 59.8-53.3v-88.8c0-5.5-2.2-10.5-6.2-14.3-23.8-22.2-42.3-49.9-53.5-80.1-11.9-32.2-15.6-66.1-10.9-100.8 6.1-45 27.7-87.5 60.8-119.8 33-32.3 76.1-52.9 121.1-57.9 30.4-3.4 60.3-0.4 88.9 8.9 27.4 9 52.2 23.3 73.8 42.6 44.1 39.4 69.4 95.9 69.4 155 0 28.7-5.8 56.6-17.2 82.7-11 25.2-26.7 47.7-46.6 66.9-5.7 5.5-8.8 12.5-8.8 19.7v85.8c0 16.4 4.7 35.5 60 53.3l133.1 30.8 1.5 0.5c19.3 6.7 41.2 15.6 57.5 30.1 18 16.1 27.1 37.1 27 62.4v148.3z m-770.8-58h712.8v-90.3c0-13.4-2.9-22.7-44.1-37.2L692 641.4l-1.1-0.4c-30.8-9.8-52.7-21.1-68.8-35.4-21.7-19.3-32.7-44-32.7-73.5v-85.8c0-23.1 9.4-45 26.6-61.5 29.7-28.5 46-66.8 46-107.8 0-42.6-18.2-83.4-50-111.8-32.3-28.8-74-42-117.5-37.1-66.8 7.5-121.8 61.3-130.9 127.9-6.7 49.3 10.2 96.9 46.4 130.6 15.7 14.6 24.7 35.3 24.7 56.7v88.8c0 29.5-11.2 54.4-33.4 74-16.4 14.5-38.7 26-68.4 35l-1 0.3-1 0.2-131.7 30.5c-43.6 13.5-43.6 29.4-43.6 37.1v90.3z"
                                            p-id="2396"></path>
                                    </svg>
                                </i>我的办理</li>
                            <li nz-menu-item nzMatchRouter [routerLink]="[ '/workflow/recycle' ]">
                                <i nz-icon nzType="delete" nzTheme="outline"></i>回收站
                            </li>
                        </ul>
                    </li>
                    <li nz-menu-group nzTitle="管理">
                        <ul>
                            <li nz-menu-item nzMatchRouter [routerLink]="[ '/workflow/definition' ]"
                                (click)="setBreadCrumb('工作流','工作流管理')">
                                <i nz-icon style="font-size: 14px;">
                                    <svg>
                                        <path
                                            d="M960 480H615.8L512 376.2 408.2 480H128V224h160v96h640V64H288v96H64v384h344.2L512 647.8 615.8 544H896v256H768v-96H128v256h640v-96h192V480zM352 128h512v128H352V128z m352 768H192V768h512v128z"
                                            p-id="2778"></path>
                                    </svg>
                                </i>工作流管理</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nz-sider>
    <nz-layout>
        <nz-header style="background: #fff; padding:0;" *ngIf="isMenuVisible">
            <div style="line-height: 64px;float: right;padding:0 16px;">

                <a nz-dropdown [nzTrigger]="'click'" [nzDropdownMenu]="menu">
                    <nz-avatar nzIcon="user" [nzSrc]="avatarUrl"></nz-avatar>
                    {{ userName }}<i nz-icon type="down"></i>
                </a>
                <nz-dropdown-menu #menu="nzDropdownMenu">
                    <ul nz-menu>
                        <li nz-menu-item [routerLink]="[ '/account/userInfo' ]" (click)="setBreadCrumb('我的信息','')">我的信息
                        </li>
                        <li nz-menu-item (click)="logout()">注销</li>
                    </ul>
                </nz-dropdown-menu>

            </div>
        </nz-header>
        <nz-content style="margin:0 16px;min-height: auto;">
            <nz-breadcrumb style="margin:16px 0;" *ngIf="isMenuVisible">
                <nz-breadcrumb-item *ngIf="prefix">{{ prefix }}</nz-breadcrumb-item>
                <nz-breadcrumb-item *ngIf="endfix">{{ endfix }}</nz-breadcrumb-item>
            </nz-breadcrumb>
            <div style="padding:24px; background: #fff; min-height: calc(100% - 80px);">
                <router-outlet></router-outlet>
            </div>
        </nz-content>
        <nz-footer style="text-align: center;" *ngIf="isMenuVisible">YU ©2019 Implement</nz-footer>
    </nz-layout>
</nz-layout>